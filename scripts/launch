#!/usr/bin/env bash

. /etc/lotus/docker/bash-config


function launch_root_validator {
  /etc/lotus/docker/subnet-daemon /root
}

# Start the daemon process
function launch_daemon {
  echo "Starting spacenet daemon...";

  eudico mir daemon --bootstrap=true;
}

# Launch lotus in the selected mode
function launch {
  if [ "$INFRA_LOTUS_ROOT_VALIDATOR" = true ]; then
    launch_root_validator;
  elif [ "$INFRA_LOTUS_DAEMON" = true ]; then
    launch_daemon;
  fi
}

launch;
